import{c as p,i as x,r as t,j as e,p as r,V as d}from"./index-Cu4IGzML.js";import{S as h}from"./Sidebar-8WiTYTof.js";const g=()=>{const m=p(),{id:l}=x(),[a,i]=t.useState({name:"",price:"",stock:"",image:""});console.log(l);const n=async()=>{try{const s=await r.get(`/find/${l}`);i({...a,name:s.data.name,image:s.data.photo,stock:s.data.stock,price:s.data.price})}catch{}};t.useEffect(()=>{n()},[]);const o=async s=>{s.preventDefault();try{const c=r.put(`/put/${l}`,a);d.success("Product Updated Successfully"),m("/admin/product"),n()}catch(c){console.log(c),d.error("Failed to Update Product")}};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"pmanage",children:[e.jsx("div",{className:"pmanageside",children:e.jsx(h,{})}),e.jsxs("div",{className:"pmanagemain",children:[e.jsx("div",{className:"pmanagebox",children:e.jsxs("div",{className:"particle",children:[e.jsx("div",{className:"mdiv",children:a?a.stock>0?e.jsxs("p",{className:"mpara cgreen",children:[a.stock," Available"]}):e.jsx("p",{className:"mpara cred",children:"Not Available"}):null}),e.jsx("div",{className:"mphoto",children:e.jsx("img",{src:a?a.image:null,alt:""})}),e.jsx("div",{style:{display:"flex",marginTop:"20px",justifyContent:"center"},children:e.jsx("p",{style:{fontSize:"1.2rem",fontWeight:"500"},children:a?a.name:null})}),e.jsx("div",{style:{display:"flex",marginTop:"20px",justifyContent:"center"},children:e.jsxs("p",{style:{fontSize:"1.2rem",fontWeight:"500"},children:["Rs.",a?a.price:null]})})]})}),e.jsx("div",{className:"pmanagebox",children:e.jsxs("form",{className:"pmanageform",onSubmit:o,children:[e.jsx("div",{className:"pmanageheadi",children:e.jsx("h2",{children:"Manage Product"})}),e.jsxs("div",{className:"pmanageitembox",children:[e.jsxs("div",{className:"nitem",children:[e.jsxs("div",{className:"labeli",children:[e.jsx("label",{children:"Name"})," ",e.jsx("label",{children:":"})]}),e.jsxs("div",{className:"inputi",children:[" ",e.jsx("input",{className:"pamangeinput",required:!0,type:"text",placeholder:"Name",value:a.name,onChange:s=>i({...a,name:s.target.value})})]})]}),e.jsxs("div",{className:"nitem",children:[e.jsxs("div",{className:"labeli",children:[" ",e.jsx("label",{children:"Price"}),e.jsx("label",{children:":"})]}),e.jsxs("div",{className:"inputi",children:[" ",e.jsx("input",{className:"pamangeinput",required:!0,type:"number",placeholder:"Price",value:a.price,onChange:s=>i({...a,price:Number(s.target.value)})})]})]}),e.jsxs("div",{className:"nitem",children:[e.jsxs("div",{className:"labeli",children:[" ",e.jsx("babel",{children:"Stock"}),e.jsx("label",{children:":"})]}),e.jsxs("div",{className:"inputi",children:[" ",e.jsx("input",{className:"pamangeinput",required:!0,type:"number",placeholder:"Stock",value:a.stock,onChange:s=>i({...a,stock:Number(s.target.value)})})]})]})]}),e.jsx("div",{children:e.jsx("div",{children:a.image&&e.jsx("div",{className:"urlphoto",children:e.jsx("img",{src:a.image,alt:""})})})}),e.jsx("div",{className:"pmanagebutton",children:e.jsx("button",{className:"pmanagebtn",type:"submit",children:"Update"})})]})})]})]})})};export{g as default};
