import{r as t,j as e,h as x,V as c,e as z}from"./index-Cu4IGzML.js";import{S as A}from"./Sidebar-8WiTYTof.js";const D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",E="1234567890",P="!@#$%^&*()_+",M=()=>{const[i,b]=t.useState(null);console.log(i);const r=async()=>{const s=await x.get("/coupan/all");s&&b(s.data)};t.useEffect(()=>{r()},[]);const[u,g]=t.useState(8),[h,C]=t.useState(""),[d,N]=t.useState(!1),[p,S]=t.useState(!1),[m,v]=t.useState(!1),[F,k]=t.useState(!1),[l,w]=t.useState(""),[o,y]=t.useState({coupan:"",amount:""});console.log(o);const I=async s=>{await window.navigator.clipboard.writeText(s),c.success("Copied to Clipboard")},L=s=>{if(s.preventDefault(),!d&&!p&&!m)return alert("Please Select One At Least");let n=h||"";const f=u-n.length;for(let j=0;j<f;j++){let a="";p&&(a+=D),d&&(a+=E),m&&(a+=P);const T=~~(Math.random()*a.length);n+=a[T]}w(n),y({...o,coupan:n})};return t.useEffect(()=>{k(!1)},[l]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"coupanmmainn",children:[e.jsx("div",{className:"coupanside",children:e.jsx(A,{})}),e.jsx("div",{className:"coupanmain",children:e.jsxs("div",{style:{backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center"},className:"contain barcharty  listofcoupan",children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center"},children:[e.jsx("h1",{style:{fontSize:"1.7rem",fontWeight:"600",marginBottom:"40px"},children:"Coupan Generator"}),e.jsxs("section",{children:[e.jsxs("form",{className:"coupan-form",onSubmit:L,children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx("input",{className:"textin",style:{height:"45px",border:"1.2px solid black"},type:"text ",placeholder:"Text to include",maxLength:u,value:h,onChange:s=>C(s.target.value)}),e.jsx("input",{className:"textlen",style:{height:"45px",border:"1.2px solid black",fontSize:".9rem"},type:"number ",placeholder:"Coupan Length",value:u,onChange:s=>g(Number(s.target.value)),min:8,max:25})]}),e.jsxs("fieldset",{style:{width:"100%",marginTop:"10px",minHeight:"60px",display:"flex",gap:"5px",alignItems:"center",justifyContent:"center",border:"1.2px solid black"},children:[e.jsx("legend",{style:{marginLeft:"25px"},children:"Include"}),e.jsx("input",{style:{border:"1.2px solid black"},type:"checkbox",checked:d,onChange:()=>N(s=>!s)}),e.jsx("span",{children:"Number"}),e.jsx("input",{style:{border:"1.2px solid black"},type:"checkbox",checked:m,onChange:()=>v(s=>!s)}),e.jsx("span",{children:"Symbols"}),e.jsx("input",{style:{border:"1.2px solid black"},type:"checkbox",checked:p,onChange:()=>S(s=>!s)}),e.jsx("span",{children:"Charactor"})]}),e.jsx("div",{className:"coupanbtn",children:e.jsx("button",{type:"submit",className:"coupanbtnn",children:"Generate"})})]}),e.jsxs("div",{className:"jangra ",onClick:()=>I(l),children:[" ",l&&e.jsx("code",{style:{display:"flex",gap:"25px"},children:l})]}),e.jsxs("div",{className:"coupandetail",children:[e.jsx("input",{type:"number",placeholder:"Set Amount",onChange:s=>{y({...o,amount:s.target.value})}}),e.jsx("button",{onClick:async()=>{try{await x.post("/coupan/new",o)&&(c.success("Coupan generated Successfully.."),r())}catch(s){c.error(s.response.data.message)}},children:"Save coupan"})]})]})]})," ",e.jsxs("div",{className:"listcoupan",children:[e.jsxs("div",{className:"mycoupans",children:[e.jsx("p",{className:"mycoupanname",children:"Name"}),e.jsx("p",{className:"mycoupanamount",children:"Amount"}),e.jsx("button",{className:"mycoupandelete"})]}),i?i.map(s=>e.jsxs("div",{className:"mycoupans",children:[e.jsx("p",{className:"mycoupannames",onClick:async()=>{await window.navigator.clipboard.writeText(s.coupan),c.success("Copied to Clipboard")},children:s.coupan}),e.jsx("p",{className:"mycoupanamounts",children:s.amount}),e.jsx("button",{className:"mycoupandeletes",onClick:async()=>{try{window.confirm("Are you sure to delete coupan Permanentally ")&&await x.delete(`/coupan/delete/?id=${s._id}`)&&(c.success("Coupan Deleted Successfully."),r())}catch{}},children:e.jsx(z,{})})]})):""]})]})})]})})};export{M as default};
